<!DOCTYPE html>
 
<html>
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>Организация файлов на компьютере</title>
   <link href="/favicon.png" rel="icon" />
   <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3017739-19']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
   <link rel="stylesheet" type="text/css" href="/css/highlight.css" />
   <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" />
   <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" /> 
   <link rel="alternate" title="Программирование - это просто!" href="/atom.xml" type="application/atom+xml">
</head>
<body>

<div class="site">

  <div class="menu">
    <a class="extra" href="/english">&laquo; english &raquo;</a>  
    <a href="/">блог</a> |
    <a href="/projects/">проекты</a> |
    <a href="/interview/">интервью</a> |
    <a href="/articles/">статьи</a> |
    <a href="/about/">автор</a>
  </div>

  <div id="home">
    <h1>Организация файлов на компьютере</h1>
<div id="post">
  <p>Думаю, что у всех, кто работает с компьютером, есть какая-то стратегия организации файлов, а у программистов уж точно.</p>

<p>Я опишу, как сам организую файлы, в форме почти разрозненных идей-заметок. Может что-то будет полезно кому-то, и может кто-то поделится своими приемами.</p>

<p>На Мак я пересел недавно, и рабочий ноутбук у меня все равно на Windows 7, то большинство приемов ориентированы на Windows.</p>

<p>Основная цель мой структуры - минимизировать и максимально упростить бэкап и потенциальную миграцию на другой компьютер. При правильном подходе эти задачи можно решать как одну.</p>

<p>Все рекомендации ниже движимы именно этой целью.</p>

<p>Один из подходов для решения обоих задач - сделать так, чтобы все мои файлы были доступны в иерархии одного единственного каталога. &ldquo;Мои&rdquo; означает, что в случае переезда на другой компьютер, данные файлы должны быть перенесены (не забыты). У меня есть каталог <code>c:\moe</code> (этимология английского &ldquo;слова&rdquo; <code>moe</code> утеряна). Двигаясь по этому каталогу вниз, можно найти все &ldquo;мои&rdquo; файлы, все-все. Также важно, что в каталоге <code>c:\moe</code> нет мусора, которым обычно загажен <code>My Documents</code> (всякие проекты-примеры, создаваемые Студией без спроса, мириады прочих папок <code>My...</code> от разных программ и т.д.). То есть это чистая полезная информация без неконтролируемого мусора.</p>

<p>К чему такие сложности? Не секрет, что в Windows расположение некоторых файлов &ldquo;по умолчанию&rdquo; весьма необычно, и далеко не все программы позволяют менять их расположение. Попробуйте найти базу данных Outlook Express или Microsoft Outlook, профайлы Thunderbird&rsquo;а, Chrome&rsquo;а или iTunes, настройки сессий SecureCRT и т.д. Все они обычно скрываются где-то в недрах <code>c:\Users\your_user_name</code>. Можно тупо бэкапить этот каталог, но, опять, там уж очень много неконтролируемого г*вна.</p>

<p>Итак, к помощью <a href="/blog/russian/2011/05/09/links-to-files-and-folder-in-windows/">символьных ссылок</a> я привел все нужные каталоги к простым путям. Например:</p>

<pre><code>c:\moe\db\
          outlook\..
          thunderbird\..

       profiles\
                chrome\..
                securecrt\..
                itunes\..
                skype\..
</code></pre>

<p>Идем далее. Последнее время я стал люто ненавидеть программы, которые сохраняют конфигурацию и настройки в реестре. Я еще могу понять, что Microsoft Office пользуется реестром из-за &ldquo;глубокой интеграции&rdquo; в систему. Но вот почему Far или putty до сих пор не могут просто пользоваться текстовым файлом для настроек и сохранять его в <code>c:\Users\...</code> - непонятно. Для таких программ у меня написан скрипт, который командой reg копирует настройки нужных веток реестра в текстовые файлы. Что такого полезного есть в настройках Far? Например, ftp/sftp сессии. У меня их около сотни, и потерять их я не хочу.</p>

<p>Отдельной строкой хочу отметить программы, которыми можно использоваться в portable режиме. У меня есть отдельный каталог для них, например:</p>

<pre><code>c:\moe\live\
            7z-9.20\..
            hiew-8.00\..
            winrar-3.70\..
            xnview-1.98.2\..
            putty-0.60\..
            notepad++-5.9.2\..
            ...
</code></pre>

<p>Обычно в этом каталоге я держу небольшие программы, которые можно просто копировать без установки, и без которых некомфортно. А так - просто перенес это каталог на другую машину, и минимальный набор утилит уже есть.</p>

<p>Далее, каталог <code>c:\moe\cmd</code>. Тут лежат разные самодельные скрипты и однофайловые микро утилиты типа <a href="http://technet.microsoft.com/en-us/sysinternals/bb896768">junction.exe</a>. Этот каталог находится под контролем git, так как скрипты часто меняются, и хочется видеть историю изменений.</p>

<p>Каталог <code>c:\moe\projects</code>.</p>

<p>Тут лежит все, связанное с программированием. Иерархия этого каталога обычно одноуровневая: проект -&gt; каталог. Одно условие (подтвержденное годами) - не использовать пробелы в именах каталогов. Сильно упрощает скриптование.</p>

<p>Например, <code>c:\moe\projects\easy-coding\</code>.</p>

<p>Также полезно сделать линк каталога <code>c:\Program Files\</code> в <code>c:\prg</code>. Проще работать в скриптах с программами, установленными в этом каталоге.</p>

<p>Еще один каталог - <code>c:\moe\documents</code>.</p>

<p>Тут лежат то, что называется документами, без привязки к какому-то проекту: doc(x), xls(x), pdf, jpg и т.д. Тут уже допустимы имена с пробелами и русским буквами. Внутренняя иерархия - по смыслу. С документами на работе я часто создают подкаталоги в номером года. В них удобно убирать старье. Например:</p>

<pre><code>c:\moe\documents\Team meetings\
                               2010\... &lt;- Прошлый год
                               ...      &lt;- Нынешняя текучка
</code></pre>

<p>Некоторое время назад я начал активно пользоваться атрибутом read-only. Если я вижу, что не меняю файл некоторое время, например, пару месяцев, то я делаю его read-only. Это относится и к проектам и к документам. Атрибут read-only позволяет исключить случайную перезапись старого файла, открытого для получения &ldquo;примера&rdquo; из прошлого. Ну а уж если захочется его таки изменить, то надо будет снимать флаг read-only или делать копию через &ldquo;Save as&hellip;&rdquo;. Основная идея - старый файл не надо перезаписывать, так как история его создания может быть подзабыта, и можно случайно похерить важный файл. Все его производные должны быть сделаны через клонирование.</p>

<p>Кстати, в Mac OS Lion компания Apple <a href="http://arstechnica.com/apple/reviews/2011/07/mac-os-x-10-7.ars/7#document-model">сделала функцию &ldquo;залочки&rdquo; файлов</a>, которые не менялись некоторое время.</p>

<p><em>Documents will also automatically be locked if they&rsquo;re not modified for a little while. The auto-lock time is configurable in the &ldquo;Options…&rdquo; screen of the Time Machine preference pane (of all places), with values from one day to one year. The default is two weeks.</em></p>

<p>Есть еще несколько каталогов:</p>

<ul>
<li><code>c:\moe\books</code> - книги</li>
<li><code>c:\moe\itunes</code> - база данных iTunes</li>
<li><code>c:\moe\soft</code> - архив программ (обычно дистрибутивы)</li>
<li><code>c:\moe\vm</code> - виртуальные машины</li>
</ul>

<p>Теперь финальный шаг - осуществление бэкапа. Мой бэкап не совсем &ldquo;правильный&rdquo;, так как он не содержит историю изменений, но зато он является моментальным снимком всех &ldquo;моих&rdquo; файлов. В случае проблемы или переезда на другой компьютер, я могу использовать бэкап как точную копию файловой системы и восстановить ее простым копированием. Кстати, это один из аргументов за аккуратное отделение &ldquo;моих&rdquo; файлов от прочего мусора.</p>

<p>Для физического осуществление бэкапа я использую <a href="http://www.nncron.ru/">nnbackup</a>. Это весьма продвинутая программа, но я использую в ней только одну функцию односторонней синхронизации - при очередном сохранении каждый файл в каталоге <code>c:\moe</code>, который изменился, будет обновлен. Но выходе, еще раз, точная копия этого каталога на страховочном носителе.</p>

<p>Под занавес, для редактирования переменных окружения в Windows я использую <a href="http://www.rapidee.com/">RapidEE</a>. Сложно представить удобнее программу.</p>

<p>P.S. Дополнительный довесок (чтобы два раза не вставать), который вроде бы как по теме, но не совсем. В <a href="http://arstechnica.com/apple/reviews/2011/07/mac-os-x-10-7.ars/7#document-model">той же статье про Lion</a> описывается, что Apple ввели понятие версионности документов на уровне API. Я видел похожее в одной из систем разработки в Блумберге - в IDE не надо было принудительно сохранять файлы проекта. В любой момент времени среда обеспечивает сохранность файлов, и в случае зависания или прочих проблем при перезапуске открытые файлы автоматически восстанавливались из autosave&rsquo;а. А вот если разработчик принудительно сохраняет файл (например, нажимает Ctrl-S), то файл не просто сохраняется, а делается commit в SVN с новой ревизией, и также приходится вводить описание этого изменения.</p>

<p>Сначала меня такой подход бесил, так как многолетняя привычка в досовских &ldquo;массировать&rdquo; F2 или Ctrl-S каждые три секунды, приводила к окну ввода описания изменений. Но со временем, я реально подсел на это. Теперь Сохранение приобрело смысл, а не было лишь средством спасения от зависания в процесса запуска.</p>

<p>Я был приятно удивен, то в Lion схожий подход введен на уровне операционной системы. Тут, конечно, у Apple основная цель немного иная - они хотят тем самым полностью избавиться от вопросов о сохранении несохраненных документов при выходе из приложения, чтобы их (приложения), можно было незаметно для пользователя убивать и перезапускать заново, как в iOS. Забавно, что в Lion по умолчанию в Dock&rsquo;е убрали индикатор запущенности приложения. Основной посыл такой - пользователя этот вопрос более не должен волновать. Операционная система запустит приложение, если требуется, и сама убьет его, если есть потребность в его ресурсах. Документы же, всегда будут в сохранности.</p>

<p>Кто еще поделится идеями и приемами организации файлов?</p>

</div>

<hr />


  <a href="http://easy-coding.blogspot.com/2011/07/blog-post_24.html"><small>Оригинальный пост</small></a> |


<a href="/about/"><small>Disclaimer</small></a>

<h1>Комментарии</h1>

<div id="disqus_thread"></div>

<script type="text/javascript">
  var disqus_shortname = 'easy-coding';
  var disqus_developer = 0;
  var disqus_identifier = 'http://easy-coding.blogspot.com/2011/07/blog-post_24.html';
  var disqus_url = 'http://easy-coding.blogspot.com/2011/07/blog-post_24.html';
  var disqus_script = 'embed.js';
  (function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  }());
</script>


  </div>

  <div class="footer">
    <div class="contact">
      &copy; 2009-2013
      <a href="mailto:alexander@demin.ws">Александр Дëмин</a> |
      <a href="/atom.xml" rel="subscribe-rss" title="Подписаться через RSS">RSS</a>
    </div>
  </div>

</div>

</body>
</html>
